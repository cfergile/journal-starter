# ==========================================================
# Application
# ==========================================================
# Logging level for app & Uvicorn: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Observability toggles
# Expose Prometheus metrics at /metrics when true
PROMETHEUS_ENABLED=true
# Enable Sentry by setting a DSN (leave blank to disable)
SENTRY_DSN=

# Dev server binding (main.py): set to 1 to bind 0.0.0.0 locally
DEV_BIND_ALL=0

# ==========================================================
# Database (local/dev defaults)
# The app builds settings.database_url (async) from these pieces
# unless DATABASE_URL is provided explicitly below.
# ==========================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=journal
DB_USER=postgres
DB_PASSWORD=change_this_password

# Optional: override the assembled URL with a full async DSN (authoritative)
# NOTE: App uses async SQLAlchemy; Alembic derives sync URL from this.
# DATABASE_URL=postgresql+asyncpg://postgres:change_this_password@localhost:5432/journal

# Optional: explicit sync DSN for migrations if your config supports it.
# (Most setups auto-derive this by stripping +asyncpg; leave blank unless needed.)
# SYNC_DATABASE_URL=postgresql+psycopg://postgres:change_this_password@localhost:5432/journal

# ==========================================================
# Testing / CI (optional)
# ==========================================================
# TEST_DB_NAME=journal_test
# TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/journal_test

# ==========================================================
# Secrets / misc (optional)
# ==========================================================
# APP_ENV=development
# SECRET_KEY=supersecretkey

# ==========================================================
# Docker Compose overrides (optional; Compose file may set these)
# ==========================================================
# POSTGRES_DB=journal
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=postgres

# ==========================================================
# Render deployment notes (not used locally)
# - In Render, set DATABASE_URL to the managed Postgres connection string.
# - Optionally set LOG_LEVEL=INFO and PROMETHEUS_ENABLED=true in the dashboard.
# ==========================================================
